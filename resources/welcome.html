<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>WebServer</title>
    </head>
    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
    $("#chooseImage").on('change',function(){
	let filePath = $(this).val(); //获取到input的value，里面是文件的路径
	let fileFormat = filePath.substring(filePath.lastIndexOf(".")).toLowerCase(); //获取文件后缀

	let src = window.URL.createObjectURL(this.files[0]); //转成可以在本地预览的格式

	// 检查是否是图片
	if( !fileFormat.match(/.png|.jpg|.jpeg|.bmp|.gif/) ) {
		//error_prompt_alert
		alert('上传错误,文件格式必须为：png/jpg/jpeg/bmp/gif');
		this.value = ""; //真的傻逼，val()和value这两个有啥区别？
		return ;
	}
	('#img-avatar').attr('src', src); //将图片地址放置在img的src中。
});
</script> 
    
    
    <body>
    <br/>
    <br/>
    <div align="center"><font size="5"> <strong>是时候做出选择了</strong></font></div>
    <div class="col-md-5">      <img id="img-avatar" src="../images/image1.jpg" class="img-responsive" alt="无法显示" />       </div>
    

	<br/>
		<br/>
		<form action="5" method="post">
 			<div align="center"><button type="submit">xxx.jpg</button></div>
                </form>
		<br/>
                <form action="6" method="post">
                        <div align="center"><button type="submit" >xxx.avi</button></div>
                </form>
		<br/>

		
		
		<form action ="7" method="post" enctype="multipart/form-data">
  <div>
    <label for="file">选择要上传的文件</label>
    <input type="file" id="file" name="file" multiple />
  </div>
  <div>
    <button>提交</button>
  </div>
  
  

</form>

		
		
		

    </body>
</html>
